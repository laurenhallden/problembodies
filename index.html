<!doctype html>

<html lang="en">
<head>
  <!-- Global Site Tag (gtag.js) - Google Analytics -->
  <!-- <script async src="https://www.googletagmanager.com/REPLACETHIS"></script> -->
  <script>
    // window.dataLayer = window.dataLayer || [];
    // function gtag(){dataLayer.push(arguments)};
    // gtag('js', new Date());
    // gtag('config', 'REPLACETHIS');
  </script>

  <meta charset="utf-8">

  <title>SITE TITLE REPLACETHIS</title>
  <meta name="description" content="SITE DESCRIPTION REPLACETHIS">
  <meta name="author" content="Lauren Hallden">

  <!--
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="manifest.json">
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <meta name="theme-color" content="#ffffff">
  -->

  <meta name="viewport" content="width=device-width" initial-scale=1>

  <!-- Metatags
  <meta property="og:title" content="SITE TITLE REPLACETHIS" />
  <meta property="og:url" content="http://laurenhallden.com/REPLACETHIS" />
  <meta property="og:type" content="website" />
  <meta property="og:description" content="SITE DESCRIPTION REPLACETHIS" />
  <meta property="og:image" content="http://laurenhallden.com/REPLACETHIS.jpg" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="SITE TITLE REPLACETHIS" />
  <meta name="tiwtter:creator" content="@phillylauren" />
  <meta name="twitter:description" content="SITE DESCRIPTION REPLACETHIS" />
  <meta name="twitter:url" content="http://laurenhallden.com/REPLACETHIS" />
  <meta name="twitter:image" content="http://laurenhallden.com/REPLACETHIS.jpg" />
  -->


  <!-- CSS -->
  <link rel="stylesheet" href="stylesheets/screen.css" />

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body>

	<div class="wrapper">
		<section>
			<h1>Hello world</h1>
			<p>Lauren's working on another website</p>
      <p class="the-problem-statement">
        <span id="the-verb"></span> 
        <span id="the-possessive">your</span>
        <span id="the-adjective"></span>
        <span id="the-problem-part"></span>
        too
        <span id="the-problem">grumpy</span>?
        <span id="the-emotions"></span>
      </p>
		</section>
	</div> <!-- end wrapper -->

	<section class="footer">
	</section>

	<!-- LINKED JS -->
	<script src="js/vendor/jquery.js"></script>
	<script src="js/scripts.js"></script>
  <script src="js/bodyparts.js"></script>
  <script src="js/problems.js"></script>
  <script src="js/emotions.js"></script>

  <script>
    // placeholder object for the part we're about to choose
    var chosenPart = {};
    var chosenProblem = {};

    // pick a random body part
    var randomPart = bodyparts[Math.floor(Math.random() * bodyparts.length)];

    // pick whether we want it to be plural
    var plural = Math.round(Math.random());

    // if we do want it to be (or if it HAS to be)
    if ((plural > 0) || (randomPart.count > 10)) {
      // check to make sure it's possible
      if ('plural' in randomPart) {
        chosenPart.part = (randomPart.plural);
        chosenPart.plural = true;
      }
      else  {
        chosenPart.part = (randomPart.singular);
        chosenPart.plural = false;
      }
    }
    // if not, it's singular
    else  {
      chosenPart.part = (randomPart.singular);
      chosenPart.plural = false;
    }

    // pick a class of problems
    function randomProblem(problems) {
      var keys = Object.keys(problems)
      var allowedProblem = problems[keys[ keys.length * Math.random() << 0]];
      var theProblemClass = problems[keys[ keys.length * Math.random() << 0]];
      console.log(theProblemClass);
      
      // pick a problem from the class
      var randomProblem = theProblemClass[Math.floor(Math.random() * theProblemClass.length)];
      chosenProblem.problem = randomProblem;
    };

    randomProblem(problems);


    // Set the part span
    $('#the-problem-part').html(chosenPart.part);

    // Set the verb span
    if (chosenPart.plural == true ) {
      $('#the-verb').html("Are");
    } else {
      $('#the-verb').html("Is");
      // and decide if we're picking a one of them (left/right)
      var randomPartSelection = [Math.floor(Math.random() * 4)];
      console.log("random selection is" + randomPartSelection);
      //unless there's only ever one of this thing
      if (randomPart.count != 1) {
        if (randomPartSelection == 0) {
          $('#the-adjective').html("one");
        } else if (randomPartSelection == 1) {
          $('#the-adjective').html("left");
        } else if (randomPartSelection == 2) {
          $('#the-adjective').html("right");
        }
      }
    };

    console.log(emotions[0])

    // Show the verb or not
    var verbVisiblity = Math.round(Math.random());
    if (verbVisiblity != 0) {
      $('#the-verb').hide();
      $('#the-possessive').hide();
      var randomEmotion = emotions[Math.floor(Math.random() * emotions.length)];
      $('#the-emotions').html(randomEmotion);
    }
    else {
      $('#the-verb').show();
      $('#the-possessive').show();
    }


    // Set the problem
    $('#the-problem').html(chosenProblem.problem);

    // Capaitalize the first letter in whatever we made
    $('#the-adjective').css("textTransform","capitalize");
  </script>
</body>
</html>